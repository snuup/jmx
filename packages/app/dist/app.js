function N(e){return Object.entries(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(e))).filter(([n,t])=>n!="constructor"&&t.value instanceof Function).forEach(([n])=>e[n]=e[n].bind(e)),e}function v(e){Object.assign(globalThis,e)}globalThis.jmx={create:e=>document.createElement(e)};let u=e=>e instanceof Function?e():e,A=(e,n)=>{let t;for(;t=e.childNodes[n];)t.remove()},C=e=>e.tag.includes("-"),E=e=>e.tag?.prototype?.view,x=e=>typeof e.tag=="string",F=e=>e.tag==null&&e.cn!=null,T=e=>typeof e=="object",h=(e,n)=>["value","checked","disabled","className","style","href","src","selected","readOnly","tabIndex"].includes(e)||n instanceof Object||n instanceof Function,P=e=>{for(let n in e)e[n]===void 0&&delete e[n]},y=(e,n={})=>{let t=u(e.h?.p)??{};P(n);for(let l in t)l in n||(h(l,t[l])?e[l]=null:e.removeAttribute(l));for(let l in n)h(l,n[l])?e[l]=n[l]:e.setAttribute(l,n[l])};function m(e,n,t,l){if(t=u(t),t==null||t===!1||t===!0)return n;let i=e.childNodes[n];function g(a){if(i&&i.nodeType==3)i.textContent!=a&&(i.textContent=a);else{let c=document.createTextNode(a);i?i.replaceWith(c):e.appendChild(c)}}if(T(t)){let a=function(o,r,s){return u(r.cn)?.flat().forEach(f=>s=m(o,s,f,l)),s};var b=a;if(F(t))return a(e,t,n);const c=u(t.p);if(x(t)){let o;if(i?.tagName!=t.tag)o=window.jmx.create(t.tag),i?i.replaceWith(o):e.appendChild(o),y(o,c),c?.mounted?.(o);else if(o=i,c?.const&&o.hasAttribute("const")||(y(o,c),c?.update?.(i,l)))return n+1;if(o.h=t,!l.patchElementOnly&&!C(t)){const r=a(o,t,0);A(o,r)}return n+1}switch(typeof t.tag){case"function":let o=i?.h?.tag==t.tag,r,s;if(E(t)){if(t.i=s=i?.h?.i??N(new t.tag(c)),s.props=c,o&&s.update(l))return n+1}else{if(r=e.childNodes[n]?.state,l.functionnode?.h==t)return m(e,n,i.hr,l);if(r?.uc)return r.updateglobal(),n+1}let f=s?.view()??t.tag.bind(r??=t.tag.state??new k)(c,u(t.cn));if(f===void 0||f==null)return n;let w=m(e,n,f,l),d=e.childNodes[n];return d.h=t,d.hr=f,Object.assign(d,{h:t,state:r}),r&&(r.element??=d),s&&(s.element=d),o||s?.mounted(),w;case"object":return m(e,n,t.tag,l)}}return g(t),n+1}function j(e,n,t={}){if(!e)return;t.replace&&e.replaceChildren();const l=e.parentElement,i=[].indexOf.call(l.childNodes,e);m(l,i,n,t)}let O=e=>typeof e=="string"||e instanceof Node;function p(...e){{e.length||(e=[document.body]);let n,t=e[0];return O(t)||(n=t,e=e.slice(1)),new Promise(l=>{requestAnimationFrame(()=>{e.flatMap(i=>typeof i=="string"?[...(n?.root??document).querySelectorAll(i)]:[i]).forEach(i=>{if(!i?.h)throw"jmx: no h exists on the node";j(i,i.h,n)}),l()})})}}v({updateview:p});class k{element;uc;update(...n){if(!n.length){p({functionnode:this.element},this.element);return}let t,l,i=n[0];if(O(i))t={},l=n;else{t=i;const[g,...b]=n;l=b}t.root=this.element,t.functionnode=this.element,l.length||(l=[this.element]),p(t,...l)}updateglobal(){this.uc=="*"&&(this.uc=this.element),this.update(...this.uc)}}let q={tag:"BODY",cn:["hase war da"]};j(document.body,q);
//# sourceMappingURL=app.js.map
